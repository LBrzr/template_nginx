server {
    listen 80;
    server_name site.leandre.io;

    root /usr/share/nginx/html;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    # Generic handler for /:id/ routes (e.g. /0/, /1/, /4/)
    location ~ ^/[^/]+/?$ {
        root /usr/share/nginx/html;
        index index.html;
        try_files $uri $uri/ /index.html;
    }

    # Also support nested routes like /4/about or /4/dashboard
    location ~ ^/[^/]+/.+ {
        root /usr/share/nginx/html;
        try_files $uri $uri/ /index.html;
    }
}
